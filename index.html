<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mi Proyecto De Vida</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>✨ Mi Proyecto de Vida ✨</h1>
            <p>Construye tu futuro, paso a paso</p>
        </header>

        <nav class="navbar">
            <!-- Botón hamburguesa para móviles -->
            <button class="hamburger-btn" id="hamburger-btn">
                <span class="hamburger-line"></span>
                <span class="hamburger-line"></span>
                <span class="hamburger-line"></span>
            </button>
            
            <!-- Logo/título para móviles -->
            <div class="nav-brand">
                <span class="nav-brand-text">Mi Proyecto</span>
            </div>
            
            <!-- Menú de navegación -->
            <div class="nav-menu" id="nav-menu">
                <button class="nav-btn active" data-section="inicio">🏠 Inicio</button>
                <button class="nav-btn" data-section="proyecto">📝 Mi Proyecto</button>
                <button class="nav-btn" data-section="metas">🎯 Metas</button>
                <button class="nav-btn" data-section="emociones">💭 Emociones</button>
                <button class="nav-btn" data-section="pelicula">🎬 Película Mental</button>
            </div>
            
            <!-- Overlay para cerrar menú en móviles -->
            <div class="nav-overlay" id="nav-overlay"></div>
        </nav>

        <div class="content">
            <!-- Sección Inicio -->
            <div id="inicio" class="section active">
                <h2 style="margin-bottom: 30px; color: #333;">Resumen de tu Proyecto de Vida</h2>
                
                <div class="stats-grid">
                    <div class="stat-card">
                        <h3 id="total-metas">0</h3>
                        <p>Metas Creadas</p>
                    </div>
                    <div class="stat-card">
                        <h3 id="total-emociones">0</h3>
                        <p>Emociones Registradas</p>
                    </div>
                    <div class="stat-card">
                        <h3 id="metas-completadas">0</h3>
                        <p>Metas Completadas</p>
                    </div>
                    <div class="stat-card">
                        <h3 id="progreso-proyecto">0%</h3>
                        <p>Progreso del Proyecto</p>
                    </div>
                </div>

                <h3 style="margin: 30px 0 20px; color: #333;">📋 Últimas Metas</h3>
                <div id="resumen-metas" class="items-list"></div>

                <h3 style="margin: 30px 0 20px; color: #333;">💫 Últimas Emociones</h3>
                <div id="resumen-emociones" class="items-list"></div>

                <h3 style="margin: 30px 0 20px; color: #333;">📖 Resumen de tu Proyecto de Vida</h3>
                <div id="resumen-proyecto" class="project-summary"></div>
            </div>

            <!-- Sección Mi Proyecto de Vida -->
            <div id="proyecto" class="section">
                <h2 style="margin-bottom: 40px; color: #333;">📝 Mi Proyecto de Vida Completo</h2>
                
                <div class="project-container">
                    <!-- Editor de Proyecto Principal -->
                    <div class="project-editor">
                        <form id="form-proyecto">
                            <div class="editor-header">
                                <h3>✍️ Escribe tu Proyecto de Vida</h3>
                                <div class="editor-tools">
                                    <button type="button" class="tool-btn" data-action="bold" title="Negrita">
                                        <strong>B</strong>
                                    </button>
                                    <button type="button" class="tool-btn" data-action="italic" title="Cursiva">
                                        <em>I</em>
                                    </button>
                                    <button type="button" class="tool-btn" data-action="underline" title="Subrayado">
                                        <u>U</u>
                                    </button>
                                    <button type="button" class="tool-btn" data-action="list" title="Lista">
                                        📋
                                    </button>
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label>🎯 Mi Visión Personal</label>
                                <textarea id="proyecto-vision" placeholder="¿Cómo te ves en 5-10 años? ¿Cuál es tu visión de vida ideal?"></textarea>
                            </div>

                            <div class="form-group">
                                <label>🎯 Mis Objetivos a Largo Plazo</label>
                                <textarea id="proyecto-objetivos" placeholder="Describe tus objetivos principales para los próximos años..."></textarea>
                            </div>

                            <div class="form-group">
                                <label>💪 Mis Fortalezas y Talentos</label>
                                <textarea id="proyecto-fortalezas" placeholder="¿Cuáles son tus principales fortalezas, talentos y habilidades?"></textarea>
                            </div>

                            <div class="form-group">
                                <label>🎯 Mis Valores Fundamentales</label>
                                <textarea id="proyecto-valores" placeholder="¿Qué valores son más importantes para ti en la vida?"></textarea>
                            </div>

                            <div class="form-group">
                                <label>🚀 Mi Plan de Acción</label>
                                <textarea id="proyecto-plan" placeholder="Describe los pasos concretos que tomarás para alcanzar tus objetivos..."></textarea>
                            </div>

                            <div class="form-group">
                                <label>📊 Mi Progreso y Reflexiones</label>
                                <textarea id="proyecto-progreso" placeholder="Reflexiona sobre tu progreso, aprendizajes y próximos pasos..."></textarea>
                            </div>

                            <div class="form-actions">
                                <button type="submit" class="submit-btn">💾 Guardar Proyecto</button>
                                <button type="button" class="export-btn" onclick="exportarProyecto()">📤 Exportar</button>
                                <button type="button" class="import-btn" onclick="importarProyecto()">📥 Importar</button>
                                <button type="button" class="clear-btn" onclick="limpiarLocalStorage()">🗑️ Limpiar Todo</button>
                            </div>
                        </form>
                    </div>

                    <!-- Panel de Objetivos SMART -->
                    <div class="smart-objectives">
                        <h3>🎯 Objetivos SMART</h3>
                        <div class="objectives-list" id="objetivos-smart">
                            <!-- Los objetivos SMART se agregarán dinámicamente -->
                        </div>
                        
                        <form id="form-objetivo-smart" class="smart-form">
                            <h4>Agregar Nuevo Objetivo SMART</h4>
                            <div class="smart-grid">
                                <div class="form-group">
                                    <label>Objetivo</label>
                                    <input type="text" id="objetivo-texto" placeholder="¿Qué quieres lograr?" required>
                                </div>
                                <div class="form-group">
                                    <label>Medible</label>
                                    <input type="text" id="objetivo-medible" placeholder="¿Cómo lo medirás?" required>
                                </div>
                                <div class="form-group">
                                    <label>Fecha Límite</label>
                                    <input type="date" id="objetivo-fecha" required>
                                </div>
                            </div>
                            <button type="submit" class="submit-btn">Agregar Objetivo</button>
                        </form>
                    </div>
                </div>

                <!-- Visualización del Proyecto -->
                <div class="project-display">
                    <h3>📖 Vista Previa de tu Proyecto</h3>
                    <div id="vista-proyecto" class="project-preview"></div>
                </div>
            </div>

            <!-- Sección Metas -->
            <div id="metas" class="section">
                <h2 style="margin-bottom: 30px; color: #333;">🎯 Mis Metas</h2>
                
                <form id="form-meta" style="background: #f8f9fa; padding: 30px; border-radius: 15px; margin-bottom: 30px;">
                    <h3 style="margin-bottom: 20px; color: #333;">Agregar Nueva Meta</h3>
                    
                    <div class="form-group">
                        <label>Título de la Meta</label>
                        <input type="text" id="meta-titulo" required placeholder="Ej: Aprender un nuevo idioma">
                    </div>

                    <div class="form-group">
                        <label>Descripción</label>
                        <textarea id="meta-descripcion" required placeholder="Describe tu meta en detalle..."></textarea>
                    </div>

                    <div class="form-group">
                        <label>Prioridad</label>
                        <select id="meta-prioridad" required>
                            <option value="high">🔴 Alta</option>
                            <option value="medium">🟡 Media</option>
                            <option value="low">🔵 Baja</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label>Fecha Límite</label>
                        <input type="date" id="meta-fecha" required>
                    </div>

                    <button type="submit" class="submit-btn">Agregar Meta</button>
                </form>

                <h3 style="margin-bottom: 20px; color: #333;">Tus Metas</h3>
                <div id="lista-metas" class="items-list"></div>
            </div>

            <!-- Sección Emociones -->
            <div id="emociones" class="section">
                <h2 style="margin-bottom: 30px; color: #333;">💭 Mis Emociones</h2>
                
                <form id="form-emocion" style="background: #f8f9fa; padding: 30px; border-radius: 15px; margin-bottom: 30px;">
                    <h3 style="margin-bottom: 20px; color: #333;">Registrar Emoción</h3>
                    
                    <div class="form-group">
                        <label>¿Cómo te sientes hoy?</label>
                        <select id="emocion-tipo" required>
                            <option value="feliz">😊 Feliz</option>
                            <option value="motivado">💪 Motivado</option>
                            <option value="ansioso">😰 Ansioso</option>
                            <option value="tranquilo">😌 Tranquilo</option>
                            <option value="triste">😢 Triste</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label>¿Qué te hizo sentir así?</label>
                        <textarea id="emocion-descripcion" required placeholder="Cuéntame sobre tu día..."></textarea>
                    </div>

                    <button type="submit" class="submit-btn">Registrar Emoción</button>
                </form>

                <h3 style="margin-bottom: 20px; color: #333;">Tu Diario Emocional</h3>
                <div id="lista-emociones" class="items-list"></div>
            </div>

            <!-- Sección Película Mental -->
            <div id="pelicula" class="section">
                <h2 style="margin-bottom: 30px; color: #333;">🎬 Crea tu Película Mental</h2>
                
                <!-- Panel de carga de imágenes -->
                <div class="movie-creator">
                    <div class="upload-section">
                        <h3 style="margin-bottom: 20px; color: #333;">📸 Cargar Imágenes</h3>
                        
                        <div class="image-upload-area" id="image-upload-area">
                            <div class="upload-content">
                                <div class="upload-icon">📷</div>
                                <h4>Arrastra tus imágenes aquí</h4>
                                <p>o haz clic para seleccionar archivos</p>
                                <small>Soporta JPG, PNG, GIF (máx. 10MB cada una)</small>
                            </div>
                            <input type="file" id="image-input" multiple accept="image/*" style="display: none;">
                        </div>
                        
                        <div class="upload-controls">
                            <button type="button" class="upload-btn" onclick="document.getElementById('image-input').click()">
                                📁 Seleccionar Imágenes
                            </button>
                            <button type="button" class="clear-btn" onclick="limpiarImagenes()">
                                🗑️ Limpiar Todo
                            </button>
                        </div>
                    </div>
                    
                    <!-- Galería de imágenes cargadas -->
                    <div class="images-gallery" id="images-gallery">
                        <h4 style="margin-bottom: 15px; color: #333;">Imágenes Seleccionadas</h4>
                        <div class="gallery-grid" id="gallery-grid">
                            <div class="empty-gallery">
                                <p>No hay imágenes cargadas aún</p>
                                <small>Agrega imágenes para crear tu película mental</small>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Configuración de la película -->
                    <div class="movie-settings">
                        <h3 style="margin-bottom: 20px; color: #333;">⚙️ Configuración de la Película</h3>
                        
                        <div class="settings-grid">
                            <div class="form-group">
                                <label>Título de tu Película</label>
                                <input type="text" id="movie-title" placeholder="Mi Película Mental" value="Mi Película Mental">
                            </div>
                            
                            <div class="form-group">
                                <label>Duración por imagen (segundos)</label>
                                <input type="range" id="image-duration" min="1" max="10" value="3" class="slider">
                                <span id="duration-value">3 segundos</span>
                            </div>
                            
                            <div class="form-group">
                                <label>Tipo de transición</label>
                                <select id="transition-type">
                                    <option value="fade">🌅 Desvanecimiento</option>
                                    <option value="slide">➡️ Deslizamiento</option>
                                    <option value="zoom">🔍 Zoom</option>
                                    <option value="rotate">🌀 Rotación</option>
                                    <option value="flip">🔄 Volteo</option>
                                </select>
                            </div>
                            
                            <div class="form-group">
                                <label>📝 Incluir texto del proyecto de vida</label>
                                <div class="checkbox-group">
                                    <label class="checkbox-label">
                                        <input type="checkbox" id="incluir-texto" checked>
                                        <span class="custom-checkbox"></span>
                                        <span class="checkbox-text">Sincronizar con mi proyecto de vida</span>
                                        <span class="checkbox-description">El texto de tu proyecto de vida aparecerá junto con las imágenes</span>
                                    </label>
                                </div>
                            </div>
                            
                            <div class="form-group" id="config-texto" style="display: none;">
                                <label>Estilo del texto</label>
                                <select id="estilo-texto">
                                    <option value="overlay">📄 Superpuesto en la imagen</option>
                                    <option value="alternating">🔄 Alternar imagen y texto</option>
                                    <option value="side">↔️ Lado a lado</option>
                                </select>
                            </div>
                            
                        </div>
                        
                        <div class="movie-actions">
                            <button type="button" class="create-movie-btn" onclick="crearPeliculaMental()">
                                🎬 Crear Película Mental
                            </button>
                            <button type="button" class="preview-btn" onclick="previewPelicula()">
                                👁️ Vista Previa
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- Reproductor de película -->
                <div class="movie-player" id="movie-player" style="display: none;">
                    <h3 style="margin-bottom: 20px; color: #333;">🎬 Tu Película Mental</h3>
                    
                    <div class="player-container">
                        <div class="movie-screen" id="movie-screen">
                            <div class="movie-overlay">
                                <div class="movie-title-display" id="movie-title-display"></div>
                                <div class="movie-progress" id="movie-progress"></div>
                            </div>
                        </div>
                        
                        <div class="player-controls">
                            <button class="control-btn play-btn" id="play-btn" onclick="togglePlayPause()">
                                ▶️ Reproducir
                            </button>
                            <button class="control-btn stop-btn" onclick="detenerPelicula()">
                                ⏹️ Detener
                            </button>
                            <div class="progress-bar">
                                <div class="progress-fill" id="progress-fill"></div>
                            </div>
                            <span class="time-display" id="time-display">0:00 / 0:00</span>
                        </div>
                        
                    </div>
                </div>
            </div>

        </div>
    </div>

    <!-- Botón flotante de música -->
    <button id="music-floating-btn" class="music-floating-btn">
        🎵
    </button>


    <!-- Botón de control de música (aparece cuando hay música reproduciéndose) -->
    <button id="music-control-btn" class="music-control-btn" style="display: none;">
        <span id="control-icon">⏸️</span>
    </button>

    <!-- Modal de música -->
    <div id="music-modal" class="music-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>🎵 Mi Ambiente Musical</h3>
                <button id="close-modal" class="close-btn">&times;</button>
            </div>
            
            <div class="modal-body">
                <!-- Formulario para agregar YouTube -->
                <div class="youtube-form">
                    <h4>📺 Agregar Video de YouTube</h4>
                    <div class="form-group">
                        <label>Nombre de la canción</label>
                        <input type="text" id="song-name-input" placeholder="Ej: Mi Canción Favorita">
                    </div>
                    <div class="input-group">
                        <input type="url" id="youtube-url-input" placeholder="Pega aquí el enlace de YouTube...">
                        <button id="add-youtube-btn" class="add-btn">Agregar</button>
                    </div>
                </div>

                <!-- Historial de canciones recientes -->
                <div class="recent-history">
                    <h4>🕒 Mis Canciones</h4>
                    <div id="recent-songs-list" class="songs-list">
                        <div class="empty-history">
                            <p>No hay canciones agregadas</p>
                            <small>Agrega una canción de YouTube para comenzar</small>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal de reproducción de YouTube -->
    <div id="youtube-player-modal" class="youtube-player-modal">
        <div class="player-content">
            <div class="player-header">
                <h4 id="current-song-title">Reproduciendo...</h4>
                <div class="player-controls">
                    <button id="stop-music-btn" class="stop-btn" onclick="detenerMusicaCompletamente()">⏹️ Detener</button>
                    <button id="close-player" class="close-btn">&times;</button>
                </div>
            </div>
            <div class="player-body">
                <iframe id="youtube-player" width="100%" height="315" frameborder="0" allowfullscreen allow="autoplay; encrypted-media" sandbox="allow-same-origin allow-scripts allow-presentation"></iframe>
            </div>
        </div>
    </div>
    
    <script src="app.js"></script>
</body>
</html>